<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
        title="msg://menuItemEditor.caption"
        focusComponent="form">
    <data>
        <instance id="editDc" class="ru.itsyn.jmix.menu_editor.entity.MenuItemEntity">
            <fetchPlan extends="_base"/>
            <loader/>
        </instance>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
        <settings id="settingsFacet" auto="true"/>
    </facets>
    <actions>
        <action id="saveAndCloseAction" type="detail_saveClose"/>
        <action id="closeAction" type="detail_close" text="msg:///actions.Close"/>
    </actions>
    <layout expand="contentField">
        <formLayout id="form" dataContainer="editDc" width="100%"
                    classNames="form-layout" labelsPosition="ASIDE">
            <responsiveSteps>
                <responsiveStep minWidth="0" columns="1"/>
                <responsiveStep minWidth="50em" columns="2"/>
            </responsiveSteps>
            <formItem><textField id="idField" property="id"/></formItem>
            <formItem><comboBox id="itemTypeField" property="itemType"/></formItem>
            <formItem><comboBox id="openModeField" property="openMode"/></formItem>
            <formItem><textField id="parentField" property="parent" readOnly="true"/></formItem>
            <formItem><textField id="captionKeyField" property="captionKey"/></formItem>
            <formItem><textField id="captionField" property="caption" readOnly="true"/></formItem>
            <formItem><textField id="descriptionField" property="description"/></formItem>
            <formItem><textField id="shortcutField" property="shortcut"/></formItem>
            <formItem><textField id="screenField" property="screen"/></formItem>
            <formItem><textField id="runnableClassField" property="runnableClass"/></formItem>
            <formItem><textField id="beanField" property="bean"/></formItem>
            <formItem><textField id="beanMethodField" property="beanMethod"/></formItem>
            <formItem><checkbox id="expandedField" property="expanded" colspan="2"/></formItem>
            <formItem><textField id="iconField" property="icon"/></formItem>
            <formItem><textField id="styleNameField" property="styleName"/></formItem>
            <formItem><textField id="commentField" property="comment" colspan="2"/></formItem>
        </formLayout>
        <!-- TODO improve layout -->
        <codeEditor id="contentField" dataContainer="editDc" property="contentXml" width="100%"
                          mode="XML" highlightActiveLine="false" showGutter="false"
                          title="msg://ru.itsyn.jmix.menu_editor.entity/MenuItemEntity.contentXml"/>
        <hbox id="editActions" spacing="true" margin="true" alignSelf="CENTER">
            <button id="saveAndCloseBtn" action="saveAndCloseAction"/>
            <button id="closeBtn" action="closeAction"/>
        </hbox>
    </layout>
</view>